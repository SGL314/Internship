<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>

  <style>
    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', sans-serif;
      color: white;
      background: #ffffff;
      overflow-x: hidden;
    }

    header {
      text-align: center;
      padding: 100px 20px 60px;
      position: relative;
      z-index: 10;
    }

    header h1 {
      font-size: 3.5rem;
      margin: 0;
      color: #00e5ff;
    }

    header p {
      font-size: 1.2rem;
      color: #999999;
      margin-top: 20px;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
    }

    canvas#three{
      position: relative;
      display: block;
      width: 100%;
      height: 1200px; /* ‚¨ÖÔ∏è AQUI voc√™ ajusta o tamanho do espa√ßo entre header e ui */
      margin: 40px 0; /* espa√ßo acima e abaixo (opcional) */
      z-index: 1;
    }

    .ui {
      position: relative;
      z-index: 100;
      padding-top: 20px;
    }

    .container {
      display: flex;
      flex-direction: column;
      gap: 100px;
      padding: 60px 200px;
      max-width: 1100px;
      margin: 0 auto;
    }

    .box {
      position: relative;
      padding: 50px 40px;
      font-size: 2rem;
      opacity: 0;
      transform: translateX(350px);
      transition: all 2s ease-out;
      background: linear-gradient(145deg, #2c3e50, #1c262b);
      color: #fff;
      border-radius: 20px;
      text-align: center;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
      border: 1px solid rgba(255, 255, 255, 0.08);
    }

    .box h2 {
      margin: 0;
      font-size: 3rem;
      color: #00e5ff;
      font-weight: 700;
    }

    .box p {
      margin-top: 15px;
      font-size: 1.1rem;
      color: #ddd;
      letter-spacing: 0.5px;
    }

    .box.from-left {
      transform: translateX(-350px);
    }

    .box.show {
      opacity: 1;
      transform: translateX(0);
    }

    footer {
      text-align: center;
      color: #666;
      font-size: 0.8rem;
      margin-top: 80px;
      padding-bottom: 40px;
    }

    .cemtec-grid {
      display: flex;
      justify-content: center;
      flex-direction: column;
      width: 941px;
      max-width: 941px;
      gap: 20px;
    }

    .line-grid {
      display: flex;
      flex-direction: row;
      justify-content: center;
      gap: 20px;
    }

    .item-info {
      background: #263238;
      color: #fff;
      padding: 15px;
      border-radius: 12px;
      text-align: center;
      max-height: 160px;
      width: 257px;
      max-width: 257px;
    }

    .item-info h2 {
      margin: 0px;
      font-size: 1.8em;
    }

    .item-info p {
      margin: 5px 0 0;
    }

    @media (max-width: 900px) {
      .container {
        padding: 40px;
        gap: 80px;
      }

      .box h2 {
        font-size: 2.5rem;
      }

      .box p {
        font-size: 1rem;
      }

      header h1 {
        font-size: 2.5rem;
      }
    }

    @media (max-width: 500px) {
      .container {
        padding: 30px 20px;
      }

      .box {
        padding: 30px 20px;
      }

      .box h2 {
        font-size: 2rem;
      }

      .box p {
        font-size: 0.9rem;
      }
    }
  </style>
</head>

<body>
  <header>
    <h1>Frase impactante</h1>
    <p>Texto ultra impactante</p>
  </header>

  <!-- <canvas id="three-canvas"></canvas> -->

  <div class="ui">
    

    <h2 style="text-align: center; color: #333; font-weight: 700; margin-bottom: 5px;">
      üî¨ Resultados Acad√™micos
    </h2>
    <p style="text-align: center; color: #777; margin-bottom: 40px;">
      *Os dados apresentados compreendem o per√≠odo entre 2019 e 2024
    </p>

    <div style="display: flex; justify-content: center;">
      <div class="cemtec-grid">
        <div class="line-grid">
          <div class="item-info">
            <h2>üìÑ +30</h2>
            <p>Artigos Cient√≠ficos</p>
          </div>
          <div class="item-info">
            <h2>üåê +35</h2>
            <p>Participa√ß√µes em congressos</p>
          </div>
          <div class="item-info">
            <h2>üìò 19</h2>
            <p>Disserta√ß√µes conclu√≠das</p>
          </div>
        </div>
        <div class="line-grid">
          <div class="item-info">
            <h2>üß™ 9</h2>
            <p>Exames de Qualifica√ß√£o</p>
          </div>
          <div class="item-info">
            <h2>üì® +50</h2>
            <p>Manifesta√ß√µes do Setor Produtivo</p>
          </div>
          <div class="item-info">
            <h2>üí° 8</h2>
            <p>Patentes</p>
          </div>
        </div>
        <div class="line-grid">
          <div class="item-info">
            <h2>üéì 23</h2>
            <p>Trabalhos de Conclus√£o de Curso</p>
          </div>
          <div class="item-info">
            <h2>üìù 10</h2>
            <p>Relat√≥rios de Ensaio</p>
          </div>
          <div class="item-info">
            <h2>üß† 8</h2>
            <p>Teses</p>
          </div>
        </div>
        <div class="line-grid">
          <div class="item-info">
            <h2>üèõÔ∏è +120</h2>
            <p>Atividades Internas</p>
          </div>
          <div class="item-info">
            <h2>üåç +150</h2>
            <p>Atividades Externas</p>
          </div>
        </div>
      </div>
    </div>

    <hr style="margin-top: 50px; margin-bottom: 40px; border: none; border-top: 2px solid #ccc;">

    <button onclick="window.location.href='slider/index.html'">slider</button>
    <footer>
      *Dados referentes ao per√≠odo de 2019 a 2024
    </footer>
  </div>

  <script type="module">
    import * as THREE from 'https://unpkg.com/three@0.152.2/build/three.module.js';

    const scene = new THREE.Scene();
    const height = 881*2.2;
    scene.background = new THREE.Color(0x070709);

    const camera = new THREE.PerspectiveCamera(75, innerWidth / height, 0.1, 1000);
    camera.position.z = 15;
    camera.updateProjectionMatrix();

    const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
    renderer.setSize(innerWidth, height);
    document.body.insertBefore(renderer.domElement, document.querySelector('.ui'));

    const light = new THREE.DirectionalLight(0xffffff, 1.2);
    light.position.set(3, 5, 5);  
    scene.add(light);
    scene.add(new THREE.AmbientLight(0x404040, 1));

    const cards = [];
    const textCard = [
      ["üè¨ +20", "Empresa atendidas", "com solu√ß√µes personalizadas"],
      ["ü§ù 15", "Servi√ßos de alto", "impacto no mercado"],
      ["üíµ +25 Milh√µes", "Em projetos executados", "com nossos parceiros"],
      ["üßæ +50", "Projetos estrat√©gicos", "com o setor privado"],
      ["üìú +65", "Certificados emitidos", "com excel√™ncia t√©cnica"]
    ];
    const images = [
      './data/1.png',
      './data/2.png',
      './data/3.png',
      './data/4.png',
      './data/5.png'
    ];

    function makeCardTexture(text, imageURL) {
      const canvas = document.createElement('canvas');
      const ctx = canvas.getContext('2d');
      const size = 512;
      const sizeHeight = size;
      canvas.setAttribute('id', 'three');
      canvas.width = size;
      canvas.height = sizeHeight;

      const loader = new THREE.TextureLoader();
      const texture = new THREE.CanvasTexture(canvas);

      loader.load(imageURL, (imgTex) => {
        ctx.drawImage(imgTex.image, 0, 0, size, size);
        ctx.fillStyle = 'rgba(0,0,0,0.4)';
        ctx.fillRect(0, 0, size, size);

        ctx.fillStyle = '#00e5ff';
        ctx.font = 'bold 36px Arial';
        ctx.textAlign = 'center';
        ctx.textBaseline = 'middle';
        ctx.fillText(text[0], size / 2, size / 2 - 50);
        ctx.font = 'bold 24px Arial';
        ctx.fillText(text[1], size / 2, size / 2);
        ctx.fillText(text[2], size / 2, size / 2 + 30);

        texture.needsUpdate = true;
      });

      texture.minFilter = THREE.LinearFilter;
      texture.magFilter = THREE.LinearFilter;
      return texture;
    }
    
    var tamCard = 8*881/height;
    for (let i = 0; i < textCard.length; i++) {
      const geo = new THREE.PlaneGeometry(tamCard, tamCard);
      const mat = new THREE.MeshStandardMaterial({
        map: makeCardTexture(textCard[i], images[i]),
        side: THREE.DoubleSide,
        roughness: 0.4,
        metalness: 0.1,
        transparent: true,
        opacity: 1
      });
      const card = new THREE.Mesh(geo, mat);
      cards.push(card);
      scene.add(card);
    }

    let scroller = 0;
    let t = 0;

    function updateCards(scrollPos) {
  const radius = 5 * 881 / height;
  const spacing = 8 * 881 / height;
  const difY = -1; // to down make up, to up make down
  const coe = 1 / 2;
  const padY = 0;

  const altY = 1400;
  const divScrollPos = 0.001;
  const divScroller = 0.002;

  t = (altY + scrollPos) * divScrollPos;

  // define um fator de rota√ß√£o extra baseado no scroll
  const scrollAngle = (scrollPos / 275 + 0.35) * Math.PI / 2; // gira 90¬∞ a cada 200px descidos
  console.log(scrollAngle);

  for (let i = 0; i < cards.length; i++) {
    const card = cards[i];
    const progress = t - i * Math.PI / (40 * height / 881);
    const y = progress * Math.PI - i * spacing;
    const angle = -i * Math.PI * coe + scrollAngle;

    card.rotation.y = Math.PI + scrollAngle;
    card.scale.x = -1;
    card.position.set(
      Math.cos(angle) * radius,
      y - difY + padY,
      Math.sin(angle) * radius
    );
    card.lookAt(0, y - difY + padY, 0);
  }
}


    window.addEventListener('keydown', (e) => {
      if (e.key === 'w') scroller -= 1;
      if (e.key === 's') scroller += 1;
    });

    function animate() {
      requestAnimationFrame(animate);
      updateCards(window.scrollY);
      renderer.render(scene, camera);
    }
    animate();

    window.addEventListener('resize', () => {
      camera.aspect = innerWidth/height;
      camera.updateProjectionMatrix();
      renderer.setSize(innerWidth, height);
    });

    document.addEventListener("DOMContentLoaded", () => {
      const boxes = document.querySelectorAll('.box');
      boxes.forEach((box, index) => {
        if (index % 2 === 0) box.classList.add('from-left');
        const observer = new IntersectionObserver(entries => {
          entries.forEach(entry => {
            if (entry.isIntersecting) entry.target.classList.add('show');
            else entry.target.classList.remove('show');
          });
        }, { threshold: 0.3 });
        observer.observe(box);
      });
    });
  </script>
</body>

</html>
