<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>3D Cards Spiral Scroll</title>
<style>
  body { margin:0; 
    overflow-x:hidden; 
    overflow-y:scroll; 
    min-height:100px;
    min-width: 100px; 
    background:#070709; }
  canvas { 
    display:block; 
    position:fixed; 
    top:0px; 
    left:0; 
    width:100vw; 
    min-height: 500px;
   }
</style>
</head>
<body>

<script type="module">
import * as THREE from 'https://unpkg.com/three@0.152.2/build/three.module.js';

// Scene, Camera, Renderer
const scene = new THREE.Scene();
const camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);
camera.position.z = 10;

const renderer = new THREE.WebGLRenderer({ antialias:true });
renderer.setSize(window.innerWidth, window.innerHeight);
document.body.appendChild(renderer.domElement);

// Light
const light = new THREE.DirectionalLight(0xffffff, 1);
light.position.set(5,5,5);
scene.add(light);
const ambient = new THREE.AmbientLight(0x404040, 0.7);
scene.add(ambient);

// Cards
const cards = [];
const cardCount = 5;
for(let i=0;i<cardCount;i++){
  const geo = new THREE.PlaneGeometry(3,2);
  const mat = new THREE.MeshStandardMaterial({ color: 0x00e5ff, side: THREE.DoubleSide });
  const card = new THREE.Mesh(geo, mat);
  const angle = i * 1.1; // inicial na espiral
  card.userData = { angle: angle, y: i*1.5 };
  card.position.set(Math.cos(angle)*4, card.userData.y, Math.sin(angle)*4);
  card.userData.angle = i*Math.PI/2;
  scene.add(card);
  cards.push(card);
}

// Scroll tracking
let scrollY = 0;
window.addEventListener('scroll', ()=>{ scrollY = -window.scrollY / window.innerHeight; });

// Mouse parallax
let mouse = {x:0, y:0};
window.addEventListener('mousemove', e=>{
  mouse.x = (e.clientX / window.innerWidth) * 2 - 1;
  mouse.y = (e.clientY / window.innerHeight) * 2 - 1;
});

// Animate
function animate(){
  requestAnimationFrame(animate);

  const t = scrollY;

  cards.forEach((c, idx)=>{
    // Espiral ao scroll
    c.userData.angle += Math.PI/200*t/10; // rotação suave
    c.position.x = Math.cos(c.userData.angle) * 4;
    c.position.z = Math.sin(c.userData.angle) * 4; // sobe com scroll
    c.position.y = c.userData.y - t*2;
    c.position.t += 0.02;
  });

  // Parallax câmera
  camera.position.x = mouse.x * 2;
  camera.position.y = -mouse.y * 2;
  camera.lookAt(0,0,0);

  renderer.render(scene, camera);
}
animate();

// Resize
window.addEventListener('resize', ()=>{
  camera.aspect = window.innerWidth / window.innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(window.innerWidth, window.innerHeight);
});
</script>

</body>
</html>
